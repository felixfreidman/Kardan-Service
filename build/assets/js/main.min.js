"use strict";function closeAppliedForm(){var e=document.getElementById("closeAppliedForm"),t=document.getElementById("closeAppliedFormButton");e.addEventListener("click",function(){darkLayer.classList.toggle("js--hidden")}),t.addEventListener("click",function(){darkLayer.classList.toggle("js--hidden")})}function inputAuthorization(){document.querySelectorAll(".form-input").forEach(function(e){var t;e.value||(t=addWarningEmptySpan(),e.classList.add("form-input--warning"),e=e.id,document.querySelector("[for=".concat(e,"]")).appendChild(t))})}function addWarningEmptySpan(){var e=document.createElement("span");return e.classList.add("empty--input"),e}function deleteWarningSpans(){document.querySelectorAll(".form-input").forEach(function(t){t.addEventListener("input",function(){var e=t.id,e=document.querySelector("[for=".concat(e,"]"));e.querySelector(".empty--input")&&(e.querySelector(".empty--input").remove(),t.classList.remove("form-input--warning"))})})}$(function(){$("#applyForm").on("submit",function(e){e.preventDefault();var t=$("#userName").val(),n=$("#userPhone").val(),o=$("#userCompany").val(),e=$("#userArea").val();$.ajax({type:"post",url:"/wp-admin/admin-ajax.php",data:{action:"ajax_form",name:t,phone:n,company:o,area:e},success:function(e){$(".dark-layer").html(e),closeAppliedForm()}})})}),$(".form-button").on("click",function(){inputAuthorization()}),deleteWarningSpans();var init,swiper=new Swiper("#greetingSwiper",{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),menuTogglers=document.querySelectorAll(".content-toggler"),screens=document.querySelectorAll(".adaptive-screen"),menuButtons=document.querySelectorAll(".button-toggler");function showScreen(t){screens.forEach(function(e){e.classList.contains("screen-active")&&(e.classList.remove("screen-active"),e.classList.add("screen-hidden")),e.id.includes(t)&&(e.classList.add("screen-active"),e.classList.remove("screen-hidden"))})}menuTogglers.forEach(function(e){e.addEventListener("click",function(){menuTogglers.forEach(function(e){e.classList.contains("content-toggler--active")&&e.classList.remove("content-toggler--active")}),e.classList.add("content-toggler--active"),showScreen(e.id),menuButtons.forEach(function(e){e.classList.contains("button-toggler--active")&&e.classList.remove("button-toggler--active");e=e.id;e.includes("service")&&document.getElementById(e).classList.add("button-toggler--active")})})}),menuButtons.forEach(function(e){e.addEventListener("click",function(){console.log("clicked"),menuButtons.forEach(function(e){e.classList.contains("button-toggler--active")&&(console.log("changed"),e.classList.remove("button-toggler--active"))}),e.classList.contains("button-toggler--active")||e.classList.add("button-toggler--active"),e.id.includes("service")?(showScreen("kardan"),menuTogglers.forEach(function(e){e.classList.contains("content-toggler--active")&&e.classList.remove("content-toggler--active")}),document.getElementById("kardan").classList.add("content-toggler--active")):showScreen("shop")})}),window.location.href.includes("contact")&&ymaps.ready(init=function(){var e=new ymaps.Map("map",{center:[56.81122355,60.72763708],zoom:14}),t=new ymaps.Placemark(e.getCenter(),{balloonContent:"г. Иркутск, ул. Сурнова, 20",iconCaption:"г. Иркутск, ул. Сурнова, 20"},{iconLayout:"default#image",iconImageHref:"./assets/images/content/logo_custom.svg",iconImageSize:[30,42],iconImageOffset:[-5,-38]});e.geoObjects.add(t)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFqYXguanMiLCJjb21tb24uanMiXSwibmFtZXMiOlsiY2xvc2VBcHBsaWVkRm9ybSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbG9zZUFwcGxpZWRGb3JtQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRhcmtMYXllciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImlucHV0QXV0aG9yaXphdGlvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaW5wdXQiLCJzcGFuIiwidmFsdWUiLCJhZGRXYXJuaW5nRW1wdHlTcGFuIiwiYWRkIiwiaW5wdXRJRCIsImlkIiwicXVlcnlTZWxlY3RvciIsImNvbmNhdCIsImFwcGVuZENoaWxkIiwid2FybmluZ0VtcHR5U3BhbiIsImNyZWF0ZUVsZW1lbnQiLCJkZWxldGVXYXJuaW5nU3BhbnMiLCJpbnB1dExhYmVsIiwicmVtb3ZlIiwiJCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwibmFtZSIsInZhbCIsInBob25lIiwiY29tcGFueSIsImFyZWEiLCJhamF4IiwidHlwZSIsInVybCIsImRhdGEiLCJhY3Rpb24iLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJodG1sIiwiaW5pdCIsInN3aXBlciIsIlN3aXBlciIsImRpcmVjdGlvbiIsImxvb3AiLCJwYWdpbmF0aW9uIiwiZWwiLCJjbGlja2FibGUiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwibWVudVRvZ2dsZXJzIiwic2NyZWVucyIsIm1lbnVCdXR0b25zIiwic2hvd1NjcmVlbiIsInRvZ2dsZXJJRCIsInNjcmVlbiIsImNvbnRhaW5zIiwiaW5jbHVkZXMiLCJ0b2dnbGVyIiwiYnV0dG9uIiwiYnV0dG9uSUQiLCJjb25zb2xlIiwibG9nIiwic3BlY2lhbEJ1dHRvbiIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInltYXBzIiwicmVhZHkiLCJteU1hcCIsIk1hcCIsImNlbnRlciIsInpvb20iLCJteVBsYWNlbWFyayIsIlBsYWNlbWFyayIsImdldENlbnRlciIsImJhbGxvb25Db250ZW50IiwiaWNvbkNhcHRpb24iLCJpY29uTGF5b3V0IiwiaWNvbkltYWdlSHJlZiIsImljb25JbWFnZVNpemUiLCJpY29uSW1hZ2VPZmZzZXQiLCJnZW9PYmplY3RzIl0sIm1hcHBpbmdzIjoiYUErQkEsU0FBQUEsbUJBQ0EsSUFBQUEsRUFBQUMsU0FBQUMsZUFBQSxvQkFDQUMsRUFBQUYsU0FBQUMsZUFDQSwwQkFFQUYsRUFBQUksaUJBQUEsUUFBQSxXQUNBQyxVQUFBQyxVQUFBQyxPQUFBLGdCQUVBSixFQUFBQyxpQkFBQSxRQUFBLFdBQ0FDLFVBQUFDLFVBQUFDLE9BQUEsZ0JBSUEsU0FBQUMscUJBQ0FQLFNBQUFRLGlCQUFBLGVBQ0FDLFFBQUEsU0FBQUMsR0FDQSxJQUNBQyxFQURBRCxFQUFBRSxRQUNBRCxFQUFBRSxzQkFDQUgsRUFBQUwsVUFBQVMsSUFBQSx1QkFDQUMsRUFBQUwsRUFBQU0sR0FDQWhCLFNBQUFpQixjQUFBLFFBQUFDLE9BQUFILEVBQUEsTUFDQUksWUFBQVIsTUFNQSxTQUFBRSxzQkFDQSxJQUFBTyxFQUFBcEIsU0FBQXFCLGNBQUEsUUFFQSxPQURBRCxFQUFBZixVQUFBUyxJQUFBLGdCQUNBTSxFQUdBLFNBQUFFLHFCQUNBdEIsU0FBQVEsaUJBQUEsZUFDQUMsUUFBQSxTQUFBQyxHQUNBQSxFQUFBUCxpQkFBQSxRQUFBLFdBQ0EsSUFBQVksRUFBQUwsRUFBQU0sR0FDQU8sRUFBQXZCLFNBQUFpQixjQUFBLFFBQUFDLE9BQUFILEVBQUEsTUFDQVEsRUFBQU4sY0FBQSxtQkFDQU0sRUFBQU4sY0FBQSxpQkFDQU8sU0FDQWQsRUFBQUwsVUFBQW1CLE9BQUEsNEJBeEVBQyxFQUFBLFdBQ0FBLEVBQUEsY0FBQUMsR0FBQSxTQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLGlCQUNBLElBQUFDLEVBQUFKLEVBQUEsYUFBQUssTUFDQUMsRUFBQU4sRUFBQSxjQUFBSyxNQUNBRSxFQUFBUCxFQUFBLGdCQUFBSyxNQUNBRyxFQUFBUixFQUFBLGFBQUFLLE1BRUFMLEVBQUFTLEtBQUEsQ0FDQUMsS0FBQSxPQUNBQyxJQUFBLDJCQUNBQyxLQUFBLENBQ0FDLE9BQUEsWUFDQVQsS0FBQUEsRUFDQUUsTUFBQUEsRUFDQUMsUUFBQUEsRUFDQUMsS0FBQUEsR0FFQU0sUUFBQSxTQUFBQyxHQUNBZixFQUFBLGVBQUFnQixLQUFBRCxHQUNBekMsMEJBTUEwQixFQUFBLGdCQUFBQyxHQUFBLFFBQUEsV0FDQW5CLHVCQW1EQWUscUJDL0VBLElBMEZBb0IsS0ExRkFDLE9BQUEsSUFBQUMsT0FBQSxrQkFBQSxDQUVBQyxVQUFBLGFBQ0FDLE1BQUEsRUFHQUMsV0FBQSxDQUNBQyxHQUFBLHFCQUVBQyxXQUFBLEdBSUFDLFdBQUEsQ0FDQUMsT0FBQSxzQkFDQUMsT0FBQSx5QkFJQUMsYUFBQXJELFNBQUFRLGlCQUFBLG9CQUNBOEMsUUFBQXRELFNBQUFRLGlCQUFBLG9CQUlBK0MsWUFBQXZELFNBQUFRLGlCQUFBLG1CQXVCQSxTQUFBZ0QsV0FBQUMsR0FDQUgsUUFBQTdDLFFBQUEsU0FBQWlELEdBQ0FBLEVBQUFyRCxVQUFBc0QsU0FBQSxtQkFDQUQsRUFBQXJELFVBQUFtQixPQUFBLGlCQUNBa0MsRUFBQXJELFVBQUFTLElBQUEsa0JBRUE0QyxFQUFBMUMsR0FDQTRDLFNBQUFILEtBQ0FDLEVBQUFyRCxVQUFBUyxJQUFBLGlCQUNBNEMsRUFBQXJELFVBQUFtQixPQUFBLG9CQS9CQTZCLGFBQUE1QyxRQUFBLFNBQUFvRCxHQUNBQSxFQUFBMUQsaUJBQUEsUUFBQSxXQUNBa0QsYUFBQTVDLFFBQUEsU0FBQXFELEdBQ0FBLEVBQUF6RCxVQUFBc0QsU0FBQSw0QkFDQUcsRUFBQXpELFVBQUFtQixPQUFBLDZCQUdBcUMsRUFBQXhELFVBQUFTLElBQUEsMkJBQ0EwQyxXQUFBSyxFQUFBN0MsSUFDQXVDLFlBQUE5QyxRQUFBLFNBQUFxRCxHQUNBQSxFQUFBekQsVUFBQXNELFNBQUEsMkJBRUFHLEVBQUF6RCxVQUFBbUIsT0FBQSwwQkFFQXVDLEVBQUFELEVBQUE5QyxHQUNBK0MsRUFBQUgsU0FBQSxZQUFBNUQsU0FBQUMsZUFBQThELEdBQUExRCxVQUFBUyxJQUFBLGdDQXFCQXlDLFlBQUE5QyxRQUFBLFNBQUFxRCxHQUNBQSxFQUFBM0QsaUJBQUEsUUFBQSxXQUNBNkQsUUFBQUMsSUFBQSxXQUNBVixZQUFBOUMsUUFBQSxTQUFBeUQsR0FDQUEsRUFBQTdELFVBQUFzRCxTQUFBLDRCQUNBSyxRQUFBQyxJQUFBLFdBQ0FDLEVBQUE3RCxVQUFBbUIsT0FBQSw2QkFHQXNDLEVBQUF6RCxVQUFBc0QsU0FBQSwyQkFDQUcsRUFBQXpELFVBQUFTLElBQUEsMEJBRUFnRCxFQUFBOUMsR0FBQTRDLFNBQUEsWUFDQUosV0FBQSxVQUNBSCxhQUFBNUMsUUFBQSxTQUFBcUQsR0FDQUEsRUFBQXpELFVBQUFzRCxTQUFBLDRCQUNBRyxFQUFBekQsVUFBQW1CLE9BQUEsNkJBR0F4QixTQUFBQyxlQUFBLFVBQUFJLFVBQUFTLElBQUEsNEJBRUEwQyxXQUFBLFlBS0FXLE9BQUFDLFNBQUFDLEtBQUFULFNBQUEsWUFDQVUsTUFBQUMsTUFFQTdCLEtBQUEsV0FDQSxJQUFBOEIsRUFBQSxJQUFBRixNQUFBRyxJQUFBLE1BQUEsQ0FDQUMsT0FBQSxDQUFBLFlBQUEsYUFDQUMsS0FBQSxLQUdBQyxFQUFBLElBQUFOLE1BQUFPLFVBQUFMLEVBQUFNLFlBQUEsQ0FDQUMsZUFBQSw4QkFDQUMsWUFBQSwrQkFDQSxDQUNBQyxXQUFBLGdCQUNBQyxjQUFBLDBDQUNBQyxjQUFBLENBQUEsR0FBQSxJQUNBQyxnQkFBQSxFQUFBLEdBQUEsTUFHQVosRUFBQWEsV0FDQXZFLElBQUE4RCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQUpBWC3Qt9Cw0L/RgNC+0YEg0LTQu9GPINC+0YLQv9GA0LDQstC60Lgg0YHQvtC+0LHRidC10L3QuNC5INC90LAg0L/QvtGH0YLRgywg0LrQvtGC0L7RgNCw0Y8g0YPQutCw0LfQsNC90LAg0LIg0LDQtNC80LjQvdC60LUg0YHQsNC50YLQsFxuJChmdW5jdGlvbiAoKSB7XG4gICQoXCIjYXBwbHlGb3JtXCIpLm9uKFwic3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBuYW1lID0gJChcIiN1c2VyTmFtZVwiKS52YWwoKTtcbiAgICB2YXIgcGhvbmUgPSAkKFwiI3VzZXJQaG9uZVwiKS52YWwoKTtcbiAgICB2YXIgY29tcGFueSA9ICQoXCIjdXNlckNvbXBhbnlcIikudmFsKCk7XG4gICAgdmFyIGFyZWEgPSAkKFwiI3VzZXJBcmVhXCIpLnZhbCgpO1xuXG4gICAgJC5hamF4KHtcbiAgICAgIHR5cGU6IFwicG9zdFwiLFxuICAgICAgdXJsOiBcIi93cC1hZG1pbi9hZG1pbi1hamF4LnBocFwiLFxuICAgICAgZGF0YToge1xuICAgICAgICBhY3Rpb246IFwiYWpheF9mb3JtXCIsXG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHBob25lOiBwaG9uZSxcbiAgICAgICAgY29tcGFueTogY29tcGFueSxcbiAgICAgICAgYXJlYTogYXJlYSxcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgJChcIi5kYXJrLWxheWVyXCIpLmh0bWwocmVzcG9uc2UpO1xuICAgICAgICBjbG9zZUFwcGxpZWRGb3JtKCk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcbn0pO1xuLy8g0J/RgNC+0LLQtdGA0Y/QtdC8LCDRh9GC0L4g0LLRgdC1INC/0L7Qu9GPINCy0LDQttC90YvQtSDQt9Cw0L/QvtC70L3QtdC90YtcbiQoXCIuZm9ybS1idXR0b25cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIGlucHV0QXV0aG9yaXphdGlvbigpO1xufSk7XG4vLyDQotCw0Log0LrQsNC6INC+0LrQvdC+INC/0L7RgdC70LUg0L7RgtC/0YDQsNCy0LrQuCDRjyDQs9C10L3QtdGA0LjRgNGD0Y4g0YHQsNC8LCDQvNC90LUg0L3Rg9C20L3QviDQtdCz0L4g0LfQsNC60YDRi9Cy0LDRgtGMLCDQv9C+0Y3RgtC+0LzRgyDRhNGD0L3QutGG0LjRjyDQstGL0LfRi9Cy0LDQtdGC0YHRjywg0LrQvtCz0LTQsCDRgtC+0LvRjNC60L4g0L/QvtGP0LLQu9GP0LXRgtGB0Y8g0L7QutC90L5cbmZ1bmN0aW9uIGNsb3NlQXBwbGllZEZvcm0oKSB7XG4gIGNvbnN0IGNsb3NlQXBwbGllZEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlQXBwbGllZEZvcm1cIik7XG4gIGNvbnN0IGNsb3NlQXBwbGllZEZvcm1CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICBcImNsb3NlQXBwbGllZEZvcm1CdXR0b25cIlxuICApO1xuICBjbG9zZUFwcGxpZWRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgZGFya0xheWVyLmNsYXNzTGlzdC50b2dnbGUoXCJqcy0taGlkZGVuXCIpO1xuICB9KTtcbiAgY2xvc2VBcHBsaWVkRm9ybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGRhcmtMYXllci5jbGFzc0xpc3QudG9nZ2xlKFwianMtLWhpZGRlblwiKTtcbiAgfSk7XG59XG4vLyDQodCw0LzQsCDRhNGD0L3QutGG0LjRjyDQv9GA0L7QstC10YDQutC4INC/0L7Qu9C10Lkg0Lgg0LTQvtCx0LDQstC70LXQvdC40Y8g0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvRhSDRgdCy0L7QudGB0YLQsiDQv9C+0LvRjlxuZnVuY3Rpb24gaW5wdXRBdXRob3JpemF0aW9uKCkge1xuICBjb25zdCBpbnB1dHNBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybS1pbnB1dFwiKTtcbiAgaW5wdXRzQXJyYXkuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICBpZiAoIWlucHV0LnZhbHVlKSB7XG4gICAgICBjb25zdCBzcGFuID0gYWRkV2FybmluZ0VtcHR5U3BhbigpO1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZChcImZvcm0taW5wdXQtLXdhcm5pbmdcIik7XG4gICAgICBjb25zdCBpbnB1dElEID0gaW5wdXQuaWQ7XG4gICAgICBjb25zdCBpbnB1dExhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2Zvcj0ke2lucHV0SUR9XWApO1xuICAgICAgaW5wdXRMYWJlbC5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyDQndC1INGF0L7RgtC10Lsg0L/QtdGA0LXQs9GA0YPQttCw0YLRjCDRhNGD0L3QutGG0LjRjyDQv9GA0L7QstC10YDQutC4INC4INC/0YDQvtGH0LXQtSwg0L/QvtGN0YLQvtC80YMg0YHQvtC30LTQsNC90LjQtSDQvtGC0LTQtdC70YzQvdC+0LPQviDRgdC/0LDQvdCwINCy0YvQvdC10YEg0L7RgtC00LXQu9GM0L3QvlxuZnVuY3Rpb24gYWRkV2FybmluZ0VtcHR5U3BhbigpIHtcbiAgY29uc3Qgd2FybmluZ0VtcHR5U3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICB3YXJuaW5nRW1wdHlTcGFuLmNsYXNzTGlzdC5hZGQoXCJlbXB0eS0taW5wdXRcIik7XG4gIHJldHVybiB3YXJuaW5nRW1wdHlTcGFuO1xufVxuLy8g0JrQsNC6INGC0L7Qu9GM0LrQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0YDQtdGI0LjQu9GB0Y8g0LLQstC10YHRgtC4INC00LDQvdC90YvQtSwg0LXRgdC70Lgg0LHRi9C70L4g0L/RgNC10LTRg9C/0YDQtdC20LTQtdC90LjQtSDRjyDRg9C00LDQu9GP0Y4g0L/RgNC10LTRg9C/0YDQtdC20LTQtdC90LjRjyDQstGB0Y/QutC40LVcbmZ1bmN0aW9uIGRlbGV0ZVdhcm5pbmdTcGFucygpIHtcbiAgY29uc3QgaW5wdXRzQXJyYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm0taW5wdXRcIik7XG4gIGlucHV0c0FycmF5LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0SUQgPSBpbnB1dC5pZDtcbiAgICAgIGNvbnN0IGlucHV0TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZm9yPSR7aW5wdXRJRH1dYCk7XG4gICAgICBpZiAoaW5wdXRMYWJlbC5xdWVyeVNlbGVjdG9yKFwiLmVtcHR5LS1pbnB1dFwiKSkge1xuICAgICAgICBjb25zdCBjZXJ0YWluU3BhbiA9IGlucHV0TGFiZWwucXVlcnlTZWxlY3RvcihcIi5lbXB0eS0taW5wdXRcIik7XG4gICAgICAgIGNlcnRhaW5TcGFuLnJlbW92ZSgpO1xuICAgICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybS1pbnB1dC0td2FybmluZ1wiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmRlbGV0ZVdhcm5pbmdTcGFucygpO1xuIiwiY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcihcIiNncmVldGluZ1N3aXBlclwiLCB7XG4gIC8vIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAgZGlyZWN0aW9uOiBcImhvcml6b250YWxcIixcbiAgbG9vcDogdHJ1ZSxcblxuICAvLyBJZiB3ZSBuZWVkIHBhZ2luYXRpb25cbiAgcGFnaW5hdGlvbjoge1xuICAgIGVsOiBcIi5zd2lwZXItcGFnaW5hdGlvblwiLFxuXG4gICAgY2xpY2thYmxlOiB0cnVlLFxuICB9LFxuXG4gIC8vIE5hdmlnYXRpb24gYXJyb3dzXG4gIG5hdmlnYXRpb246IHtcbiAgICBuZXh0RWw6IFwiLnN3aXBlci1idXR0b24tbmV4dFwiLFxuICAgIHByZXZFbDogXCIuc3dpcGVyLWJ1dHRvbi1wcmV2XCIsXG4gIH0sXG59KTtcblxuY29uc3QgbWVudVRvZ2dsZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb250ZW50LXRvZ2dsZXJcIik7XG5jb25zdCBzY3JlZW5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hZGFwdGl2ZS1zY3JlZW5cIik7XG4vLyBjb25zdCBzZXJ2aWNlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXJ2aWNlQnV0dG9uXCIpO1xuLy8gY29uc3Qgc2hvcEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hvcEJ1dHRvblwiKTtcblxuY29uc3QgbWVudUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1dHRvbi10b2dnbGVyXCIpO1xubWVudVRvZ2dsZXJzLmZvckVhY2godG9nZ2xlciA9PiB7XG4gIHRvZ2dsZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBtZW51VG9nZ2xlcnMuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJjb250ZW50LXRvZ2dsZXItLWFjdGl2ZVwiKSkge1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNvbnRlbnQtdG9nZ2xlci0tYWN0aXZlXCIpO1xuICAgICAgfVxuICAgIH0pXG4gICAgdG9nZ2xlci5jbGFzc0xpc3QuYWRkKFwiY29udGVudC10b2dnbGVyLS1hY3RpdmVcIik7XG4gICAgc2hvd1NjcmVlbih0b2dnbGVyLmlkKVxuICAgIG1lbnVCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnV0dG9uLXRvZ2dsZXItLWFjdGl2ZVwiKSkge1xuXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYnV0dG9uLXRvZ2dsZXItLWFjdGl2ZVwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJ1dHRvbklEID0gYnV0dG9uLmlkO1xuICAgICAgaWYgKGJ1dHRvbklELmluY2x1ZGVzKCdzZXJ2aWNlJykpIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ1dHRvbklEKS5jbGFzc0xpc3QuYWRkKFwiYnV0dG9uLXRvZ2dsZXItLWFjdGl2ZVwiKVxuXG4gICAgfSlcbiAgfSlcbn0pXG5cblxuZnVuY3Rpb24gc2hvd1NjcmVlbih0b2dnbGVySUQpIHtcbiAgc2NyZWVucy5mb3JFYWNoKHNjcmVlbiA9PiB7XG4gICAgaWYgKHNjcmVlbi5jbGFzc0xpc3QuY29udGFpbnMoXCJzY3JlZW4tYWN0aXZlXCIpKSB7XG4gICAgICBzY3JlZW4uY2xhc3NMaXN0LnJlbW92ZShcInNjcmVlbi1hY3RpdmVcIik7XG4gICAgICBzY3JlZW4uY2xhc3NMaXN0LmFkZCgnc2NyZWVuLWhpZGRlbicpO1xuICAgIH1cbiAgICBjb25zdCBzY3JlZW5JRCA9IHNjcmVlbi5pZDtcbiAgICBpZiAoc2NyZWVuSUQuaW5jbHVkZXModG9nZ2xlcklEKSkge1xuICAgICAgc2NyZWVuLmNsYXNzTGlzdC5hZGQoXCJzY3JlZW4tYWN0aXZlXCIpO1xuICAgICAgc2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ3NjcmVlbi1oaWRkZW4nKTtcbiAgICB9XG4gIH0pXG59XG5cbm1lbnVCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coKCdjbGlja2VkJykpO1xuICAgIG1lbnVCdXR0b25zLmZvckVhY2goc3BlY2lhbEJ1dHRvbiA9PiB7XG4gICAgICBpZiAoc3BlY2lhbEJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJidXR0b24tdG9nZ2xlci0tYWN0aXZlXCIpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2hhbmdlZFwiKVxuICAgICAgICBzcGVjaWFsQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJidXR0b24tdG9nZ2xlci0tYWN0aXZlXCIpO1xuICAgICAgfVxuICAgIH0pXG4gICAgaWYgKCFidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnV0dG9uLXRvZ2dsZXItLWFjdGl2ZVwiKSkge1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidXR0b24tdG9nZ2xlci0tYWN0aXZlXCIpO1xuICAgIH1cbiAgICBpZiAoYnV0dG9uLmlkLmluY2x1ZGVzKFwic2VydmljZVwiKSkge1xuICAgICAgc2hvd1NjcmVlbihcImthcmRhblwiKTtcbiAgICAgIG1lbnVUb2dnbGVycy5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiY29udGVudC10b2dnbGVyLS1hY3RpdmVcIikpIHtcbiAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNvbnRlbnQtdG9nZ2xlci0tYWN0aXZlXCIpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJrYXJkYW5cIikuY2xhc3NMaXN0LmFkZCgnY29udGVudC10b2dnbGVyLS1hY3RpdmUnKVxuICAgIH0gZWxzZSB7XG4gICAgICBzaG93U2NyZWVuKFwic2hvcFwiKTtcbiAgICB9XG4gIH0pXG59KVxuXG5pZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCJjb250YWN0XCIpKSB7XG4gIHltYXBzLnJlYWR5KGluaXQpO1xuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcCgnbWFwJywge1xuICAgICAgY2VudGVyOiBbNTYuODExMjIzNTUsIDYwLjcyNzYzNzA4XSxcbiAgICAgIHpvb206IDE0XG4gICAgfSksXG5cbiAgICAgIG15UGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhteU1hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgICBiYWxsb29uQ29udGVudDogJ9CzLiDQmNGA0LrRg9GC0YHQuiwg0YPQuy4g0KHRg9GA0L3QvtCy0LAsIDIwJyxcbiAgICAgICAgaWNvbkNhcHRpb246ICfQsy4g0JjRgNC60YPRgtGB0LosINGD0LsuINCh0YPRgNC90L7QstCwLCAyMCcsXG4gICAgICB9LCB7XG4gICAgICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcbiAgICAgICAgaWNvbkltYWdlSHJlZjogXCIuL2Fzc2V0cy9pbWFnZXMvY29udGVudC9sb2dvX2N1c3RvbS5zdmdcIixcbiAgICAgICAgaWNvbkltYWdlU2l6ZTogWzMwLCA0Ml0sXG4gICAgICAgIGljb25JbWFnZU9mZnNldDogWy01LCAtMzhdLFxuICAgICAgfSlcblxuICAgIG15TWFwLmdlb09iamVjdHNcbiAgICAgIC5hZGQobXlQbGFjZW1hcmspO1xuICB9XG59XG5cblxuIl19
